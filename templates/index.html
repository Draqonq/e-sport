{% extends "template.html" %}

{% block members %}
    <select>
        {% for team in registered_teams %}
            <option value="{{team}}">{{team}}</option>
        {% endfor %}
    </select>
{% endblock %}

{% block playerlist %} 
    <div class="list">
        {% for team in registered_teams %}
            <div class="team">{{team}}</div>
        {% endfor %}
    </div>
{% endblock %}

{% block round %}
    {% for r in range(rounds|length) %}
        <div class="round">
            <h2>{{rounds[r].name}}</h2>
            {% for fight in range(rounds[r].teams|length) %}
                <div class="fight">
                {% if r == current_round and winner|length == 0 %}
                    {% if rounds[r].teams[fight]|length > 1 %}
                        <button name="team" type="submit" value="{{rounds[r].teams[fight][0]}}"><div class="team">{{rounds[r].teams[fight][0]}}</div></button>
                        VS
                        <button name="team" type="submit" value="{{rounds[r].teams[fight][1]}}"><div class="team">{{rounds[r].teams[fight][1]}}</div></button>
                    {% else %}
                        <button name="team" type="submit" value="{{rounds[r].teams[fight][0]}}"><div class="team">{{rounds[r].teams[fight][0]}}</div></button>
                        VS
                        <div class="team"></div>
                    {% endif%}
                {% else %}
                    {% if rounds[r].teams[fight]|length > 1 %}
                        <div class="team">{{rounds[r].teams[fight][0]}}</div>
                        VS
                        <div class="team">{{rounds[r].teams[fight][1]}}</div>
                    {% else %}
                        <div class="team">{{rounds[r].teams[fight][0]}}</div>
                        VS
                        <div class="team"></div>
                    {% endif%}
                {% endif%}
                </div>
            {% endfor %}
        </div>
    {% endfor %}
{% endblock %}

{% block winner %}
    {% if rounds|length > 0 %}
        <div class="round">
            <h2>WINNER</h2>
            {{winner}}
        </div>
    {% endif %}
{% endblock %}